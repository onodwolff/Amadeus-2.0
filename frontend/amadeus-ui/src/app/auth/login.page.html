<div class="login-page">
  <div class="login-background" aria-hidden="true">
    <div class="login-background__layer login-background__layer--gradient"></div>
    <div class="login-background__layer login-background__layer--rays"></div>
    <div class="login-background__layer login-background__layer--particles"></div>
    <div class="login-background__layer login-background__layer--orbs"></div>
  </div>

  <div class="login-overlay">
    <section class="login-modal" role="dialog" aria-modal="true" aria-labelledby="login-title">
      <header class="login-modal__header">
        <h1 class="login-modal__title" id="login-title">Sign in</h1>
        <p class="login-modal__description">
          Continue to sign in with your identity provider. You will be redirected to complete the
          process.
        </p>
      </header>

      <form
        class="login-form"
        novalidate
        [formGroup]="form"
        (ngSubmit)="submit()"
        aria-describedby="login-error"
      >
        <div class="login-form__alert" id="login-error" role="alert" *ngIf="error()">{{ error() }}</div>

        <div class="login-form__field">
          <label for="login-identifier">Email or username</label>
          <input
            id="login-identifier"
            type="text"
            formControlName="identifier"
            autocomplete="username"
            [class.login-form__input--invalid]="showIdentifierError()"
            [attr.aria-invalid]="showIdentifierError()"
            [attr.aria-describedby]="showIdentifierError() ? 'login-identifier-error' : null"
          />
          <p class="login-form__hint" id="login-identifier-error" *ngIf="showIdentifierError()">
            {{ identifierError() }}
          </p>
        </div>

        <div class="login-form__field">
          <label for="login-password">Password</label>
          <input
            id="login-password"
            type="password"
            formControlName="password"
            autocomplete="current-password"
            [class.login-form__input--invalid]="showPasswordError()"
            [attr.aria-invalid]="showPasswordError()"
            [attr.aria-describedby]="showPasswordError() ? 'login-password-error' : null"
          />
          <p class="login-form__hint" id="login-password-error" *ngIf="showPasswordError()">
            {{ passwordError() }}
          </p>
        </div>

        <div class="login-form__meta">
          <label class="login-form__checkbox">
            <input type="checkbox" formControlName="rememberMe" />
            <span>Remember me</span>
          </label>
          <a routerLink="/forgot-password">Forgot your password?</a>
        </div>

        <button type="submit" class="login-form__submit" [disabled]="isSubmitting()">
          <span *ngIf="!isSubmitting(); else loading">Sign in</span>
        </button>
        <ng-template #loading>
          <span>Signing you inâ€¦</span>
        </ng-template>

        <div class="login-form__links">
          <a routerLink="/verify-email">Verify your email</a>
          <a routerLink="/login/mfa" [queryParams]="{ token: null }">Use a backup code</a>
        </div>
      </form>
    </section>
  </div>
</div>
